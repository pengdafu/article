![](./start.jpg)

# 操作系统的四个特征

操作系统的四个特征分别是：
1. 并发
2. 共享
3. 虚拟
4. 异步

其中其中 `并发` 和 `共享` 是两个最基本的特征，二者互为存在条件。

## 并发和共享

### 并发

`并发` 是值两个或者多个事件在同一个时间间隔内发生。这些事件在宏观上是同时发生的，在微观上是交替发生的。

而 `并行` 是指两个或者多个事件在同一时刻发生。

举个例子：我们可以边吃饭边看电视，这个就是并行，因为从微观上看，同一时刻，我们是可以同时做这两件事的。我们写一会文章玩一会游戏，这就是并发，从宏观上看，我们一天做了很多事，从微观上看，写文章和玩游戏不是在同一时刻发生的。

一个单核处理机(CPU)同一时刻只能执行一个程序，因此操作系统会负责协调多个程序交替执行(这些程序从微观上看是交替执行的，但是从宏观上看是多个程序同时执行的)。

事实上，操作系统就是伴随着 “多道程序技术” 而出现的，因此 <font color="#dd0000">操作系统和程序并发是一起诞生的</font>。

当今的计算机一般都是多核CPU，比如说4核，但是操作系统的并发性依然必不可少，绝大数人使用计算机会运行4个以上的程序。

### 共享

<font color='#dd0000'>共享</font> 就是资源共享，是指系统中的资源可供内存中多个并发执行的进程共同使用。

资源共享有两种方式：

1. 互斥共享方式：系统中的某些资源，虽然可以提供给多个进程使用，但是 <font color='#dd0000'>一个时间段内，只允许一个进程访问</font>
2. 同时共享方式：系统中的某些资源，<font color='#dd0000'>允许一个时间段内，多个进程"同时"对该资源进行访问</font>

这个同时是从宏观上来说的，在微观上，依然是多个进程交替访问该资源。

举个例子：

互斥共享：QQ和微信都支持视频聊天，但是不能同时开启QQ和微信进行视频聊天。

同时共享：我们可以同时传输文件A和文件B，从宏观上看，AB文件是同时传输的，但是从微观上看，两个传输进程都是交替访问磁盘的。

### 并发和共享的关系

比如上面传输文件的例子，QQ发送文件A，微信发送文件B：

1. 两个进程正在并发的执行(并发性)
2. 需要共享的访问硬盘资源(共享性)

如果失去并发性，则系统只有一个进程在运行，那么共享性就没有意义。

如果失去共享性，则QQ和微信不能同时访问硬盘资源，就无法同时发送文件，即不能并发。

这就是并发性和共享性互为存在条件的原因。



## 虚拟性

<font color='#dd0000'>虚拟</font> 是指吧一个物理上的实体变为若干个逻辑上的对应物，物理实体是实际存在的，而逻辑上的是用户感受到的。

我们知道，一个程序要能被执行，需要将它放到内存中并分配CPU才可以。

但是实际上，我们可以运行一个游戏、又可以运行QQ、微信，这些程序加起来的内存可能大于本机内存，那为什么它们还是可以在我的电脑上运行呢？

答：这是虚拟存储器技术，是虚拟技术中的 ”空分复用技术“

假如我的电脑是一核，既然一个程序需要分配CPU才可以运行，为什么我却能同时运行QQ、微信、网易云音乐呢？

答：这是虚拟存储器技术，实际上是单核CPU，但是在用户看来是N个CPU在运行。这是虚拟技术中的 ”时分复用技术“。微观角度，处理机是在各个微小的时间段内交替着为各个进程服务。

所以虚拟技术分为：

- 空分复用技术，如虚拟存储器技术
- 时分复用技术，如虚拟处理器

显而易见的是，如果失去了并发性，就失去了实现虚拟性的意义。因此，<font color='#dd0000'>没有并发性，就谈不上虚拟性</font>。



## 异步

<font color='#dd0000'>异步</font> 是指，在多道程序环境下，运行多个程序并发执行，但是由于资源有限，进程的执行并不是一贯到底的，而是走走停停，以不可预知的速度向前推进，这就是进程的异步性。

只有系统用户并发性，才有可能导致异步性。